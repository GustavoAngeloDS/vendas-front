<h3>Cadastrar cliente</h3>

<div class="well">
  <form #formClient="ngForm">
    <div class="form-group">
        <label for="cpf">CPF</label>
        <input
            id="cpf"  
            type="text"
            name="cpf"
            class="form-control"
            placeholder="Digite o CPF do cliente"
            [(ngModel)]="client.cpf"
            #cpf="ngModel"
            mask="000.000.000-99" [showMaskTyped]="true" [dropSpecialCharacters]="false" 
            (blur)="onCpfBlur()"
            required/>
        <div *ngIf="cpf.errors && (cpf.dirty || cpf.touched)" class="alert alert-danger">
            <div [hidden]="!cpf.errors.required">
                Digite o CPF do cliente.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="name">Nome</label>
        <input
            id="name"  
            type="text"
            name="name"
            class="form-control"
            placeholder="Digite o nome do cliente"
            minlength="2" maxlength="100"
            [(ngModel)]="client.name"
            #name="ngModel"
            required/>
        <div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">
            <div [hidden]="!name.errors.required">
                Digite o nome do cliente.
            </div>
            <div [hidden]="!name.errors.minlength">
                O nome deve conter 2 caracteres.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="lastname">Sobrenome</label>
        <input
            id="lastname"  
            type="text"
            name="lastname"
            class="form-control"
            placeholder="Digite o sobrenome do cliente"
            minlength="2" maxlength="100"
            [(ngModel)]="client.lastname"
            #lastname="ngModel"
            required/>
        <div *ngIf="lastname.errors && (lastname.dirty || lastname.touched)" class="alert alert-danger">
            <div [hidden]="!lastname.errors.required">
                Digite o sobrenome do cliente.
            </div>
            <div [hidden]="!lastname.errors.minlength">
                O sobrenome deve conter 2 caracteres.
            </div>
        </div>
    </div>
    <button
      type="button"
      class="btn btn-primary"
      [disabled]="!formClient.form.valid"
      (click)="onSubmit()">
      Salvar
    </button>
    <a href="#" class="btn btn-secondary" [routerLink]="['/clients']">
        <i class="fa fa-arrow-left" aria-hidden="true"></i> Voltar
      </a>
  </form>
</div>
